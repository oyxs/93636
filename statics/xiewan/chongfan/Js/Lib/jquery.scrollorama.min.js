function getBrowser(){var a=uaMatch(navigator.userAgent),b={};return a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),b}function uaMatch(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}}!function(a){a.scrollorama=function(b){function m(){var b,g,l,k=!1;for("string"==typeof c.settings.blocks&&(c.settings.blocks=a(c.settings.blocks)),l=getBrowser(),l.mozilla&&(e="-moz-"),l.webkit&&(e="-webkit-"),l.opera&&(e="-o-"),l.msie&&(e="-ms-",f=parseInt(l.version,10)),a("body").css("position","relative"),b=0;b<c.settings.blocks.length;b++)g=c.settings.blocks.eq(b),k=g.css("margin-top"),d.push({block:g,top:g.offset().top-(Boolean(k)?0:parseInt(k,10)),pin:0,animations:[]});if("true"===c.settings.enablePin.toString())for(b=0;b<d.length;b++)d[b].block.css("position","absolute").css("top",d[b].top);0===a("#scroll-wrap").length&&a("body").prepend('<div id="scroll-wrap"></div>'),h=0,j=!1,a(window).on("scroll.scrollorama",n)}function n(){h=window.scrollY,o()}function o(){j||k(function(){q(),p()}),j=!0}function p(){j=!1}function q(){var f,h,i,j,k,l,m,b=a(window).scrollTop(),e=r(b);for(f=0;f<d.length;f++)if(d[f].animations.length)for(h=0;h<d[f].animations.length;h++)i=d[f].animations[h],f>e?(e!==f-1&&"bottom"!==i.baseline&&s(i,i.startVal),d[f].pin&&d[f].block.css("position","absolute").css("top",d[f].top)):e>f&&(s(i,i.endVal),d[f].pin&&d[f].block.css("position","absolute").css("top",d[f].top+d[f].pin)),(f===e||e===f-1&&"bottom"===i.baseline)&&(d[f].pin&&e===f&&d[f].block.css("position","fixed").css("top",0),j=d[f].top+i.delay,"bottom"===i.baseline&&(j-=a(window).height()),k=j+i.duration,j>b?s(i,i.startVal):b>k?(s(i,i.endVal),d[f].pin&&d[f].block.css("position","absolute").css("top",d[f].top+d[f].pin)):(l=(b-j)/i.duration,i.easing&&a.isFunction(a.easing[i.easing])&&(l=a.easing[i.easing](l,1e3*l,0,1,1e3)),m=i.startVal+l*(i.endVal-i.startVal),s(i,m)));c.blockIndex!==e&&(c.blockIndex=e,g())}function r(a){var e,b=0;for(e=0;e<d.length;e++)d[e].top<=a-c.settings.offset&&(b=e);return b}function s(b,c){var g,h,d=b.element,f=b.property;"rotate"===f||"zoom"===f||"scale"===f?"rotate"===f?d.css(e+"transform","rotate("+c+"deg)"):("zoom"===f||"scale"===f)&&(g="scale("+c+")","-ms-"!==e?d.css(e+"transform",g):(jQuery().scale&&a(d.selector).scale(c),d.css("zoom",c))):"background-position-x"===f||"background-position-y"===f?(h=d.css("background-position").split(" "),"background-position-x"===f&&d.css("background-position",c+"px "+h[1]),"background-position-y"===f&&d.css("background-position",h[0]+" "+c+"px")):"text-shadow"===f?d.css(f,"0px 0px "+c+"px #ffffff"):b.suffix?d.css(f,c+b.suffix):d.css(f,c)}var c={},d=[],e="",f="",g=function(){},h=0,j=!1,k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},l={offset:0,enablePin:!0};return c.settings=a.extend({},l,b),c.blockIndex=0,void 0===b.blocks&&alert("ERROR: Must assign blocks class selector to scrollorama plugin"),c.animate=function(b){var e,g,h,i,j,k,l;for("string"==typeof b&&(b=a(b)),k=0;k<d.length;k++)d[k].block.has(b).length&&(g=d[k],e=k);for(k=1;k<arguments.length;k++)if(h=arguments[k],("top"===h.property||"left"===h.property||"bottom"===h.property||"right"===h.property)&&("static"===b.css("position")&&b.css("position","relative"),cssValue=parseInt(b.css(h.property),10),void 0===h.start?h.start=isNaN(cssValue)?0:cssValue:void 0===h.end&&(h.end=isNaN(cssValue)?0:cssValue)),"rotate"===h.property?(void 0===h.start&&(h.start=0),void 0===h.end&&(h.end=0)):"zoom"===h.property||"scale"===h.property?(void 0===h.start&&(h.start=1),void 0===h.end&&(h.end=1)):"letter-spacing"===h.property&&b.css(h.property)&&(void 0===h.start&&(h.start=1),void 0===h.end&&(h.end=1)),f&&9>f&&("background-position-x"==h.property||"background-position-y"==h.property)&&(h.property="background-position-x"===h.property?"backgroundPositionX":"backgroundPositionY"),void 0===h.baseline&&(h.baseline=h.pin||g.pin||0===e?"top":"bottom"),void 0===h.delay&&(h.delay=0),startVal=void 0!==h.start?"function"==typeof h.start?h.start():h.start:parseInt(b.css(h.property),10),endVal=void 0!==h.end?"function"==typeof h.end?h.end():h.end:parseInt(b.css(h.property),10),j=startVal.toString().match(/\D+$/)||endVal.toString().match(/\D+$/),j&&(j=j[0],startVal=parseInt(startVal,10),endVal=parseInt(endVal,10)),g.animations.push({element:b,delay:h.delay,duration:h.duration,property:h.property,startVal:startVal,endVal:endVal,suffix:j,baseline:void 0!==h.baseline?h.baseline:"bottom",easing:h.easing}),h.pin&&g.pin<h.duration+h.delay)for(i=h.duration+h.delay-g.pin,g.pin+=i,l=e+1;l<d.length;l++)d[l].top+=i,d[l].block.css("top",d[l].top);return q(),c},c.onBlockChange=function(a){g=a},c.getScrollpoints=function(){var b,c,e,a=[];for(b=0;b<d.length;b++)if(a.push(d[b].top),d[b].animations.length&&d[b].pin>0)for(c=0;c<d[b].animations.length;c++)e=d[b].animations[c],a.push(d[b].top+e.delay+e.duration);return a.sort(function(a,b){return a-b}),a},c.destroy=function(){for(i=0;i<d.length;i++)d[i].block.css({top:"",position:""}),delete d[i].animations,delete d[i].top,delete d[i].pin;a(window).off("scroll.scrollorama"),a("#scroll-wrap").remove(),delete c},m(),c},a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0===b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b===e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0===b?c:b===e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;return 0===b?c:1===(b/=e)?c+d:(g||(g=.3*e),h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h),-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c)},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;return 0===b?c:1===(b/=e)?c+d:(g||(g=.3*e),h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h),h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c)},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;return 0===b?c:2===(b/=e/2)?c+d:(g||(g=e*.3*1.5),h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h),1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+d+c)},easeInBack:function(a,b,c,d,e,f){return void 0===f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0===f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0===f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return f/2>c?.5*a.easing.easeInBounce(b,2*c,0,e,f)+d:.5*a.easing.easeOutBounce(b,2*c-f,0,e,f)+.5*e+d}})}(jQuery);
